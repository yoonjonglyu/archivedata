<div class="_6d9832ac pr4-ns pl0-ns ph1-m pr3-m pr2  markdown" id="readme"><h1><a id="user-content-react-daumpost-hook" class="anchor" aria-hidden="true" href="#react-daumpost-hook"><span aria-hidden="true" class="octicon octicon-link"></span></a>react-daumpost-hook</h1>
  <p><a href="http://postcode.map.daum.net/guide" rel="nofollow">다음 우편 번호 API</a>를 리액트 커스텀 훅 방식으로 제공하는 플러그인.
  간단하게 다음 우편번호 서비스 만을 기존 레이아웃에 가져다 붙이거나 팝업 형식으로 사용하기 편리하게 하기 위한 소스.
  간단하게 가져다 쓰면서도 자유롭게 커스터마이징하기 용이합니다.</p>
  <h2><a id="user-content-스크린샷" class="anchor" aria-hidden="true" href="#스크린샷"><span aria-hidden="true" class="octicon octicon-link"></span></a>스크린샷</h2>
  <p><a target="_blank" rel="noopener noreferrer" href="https://github.com/yoonjonglyu/react-daumpost-hook/blob/HEAD/assets/kakaopostcode2.jpg"><img src="https://raw.githubusercontent.com/yoonjonglyu/react-daumpost-hook/HEAD/assets/kakaopostcode2.jpg" alt="팝업" style="max-width: 100%;"></a>
  <a target="_blank" rel="noopener noreferrer" href="https://github.com/yoonjonglyu/react-daumpost-hook/blob/HEAD/assets/kakaopostcode1.jpg"><img src="https://raw.githubusercontent.com/yoonjonglyu/react-daumpost-hook/HEAD/assets/kakaopostcode1.jpg" alt="삽입" style="max-width: 100%;"></a></p>
  <h2><a id="user-content-설치" class="anchor" aria-hidden="true" href="#설치"><span aria-hidden="true" class="octicon octicon-link"></span></a>설치</h2>
  <div class="highlight highlight-source-shell"><pre>npm install react-daumpost-hook
  //or
  yarn add react-daumpost-hook</pre></div>
  <h2><a id="user-content-사용법" class="anchor" aria-hidden="true" href="#사용법"><span aria-hidden="true" class="octicon octicon-link"></span></a>사용법</h2>
  <h3><a id="user-content-팝업-방식-사용" class="anchor" aria-hidden="true" href="#팝업-방식-사용"><span aria-hidden="true" class="octicon octicon-link"></span></a>팝업 방식 사용</h3>
  <div class="highlight highlight-source-js"><pre><span class="pl-k">import</span> <span class="pl-v">React</span> <span class="pl-k">from</span> <span class="pl-s">'react'</span><span class="pl-kos">;</span>
  <span class="pl-k">import</span> <span class="pl-v">ReactDaumPost</span> <span class="pl-k">from</span> <span class="pl-s">'react-daumpost-hook'</span><span class="pl-kos">;</span>
  
  <span class="pl-k">const</span> <span class="pl-v">App</span> <span class="pl-c1">=</span> <span class="pl-k">function</span> <span class="pl-kos">(</span><span class="pl-kos">)</span> <span class="pl-kos">{</span>
    <span class="pl-k">const</span> <span class="pl-s1">ref</span> <span class="pl-c1">=</span> <span class="pl-en">useRef</span><span class="pl-kos">(</span><span class="pl-c1">null</span><span class="pl-kos">)</span><span class="pl-kos">;</span>
  
    <span class="pl-k">const</span> <span class="pl-s1">postConfig</span> <span class="pl-c1">=</span> <span class="pl-kos">{</span>
      <span class="pl-c">// 팝업창으로 사용시 ref: userRef()</span>
      <span class="pl-en">onComplete</span>: <span class="pl-kos">(</span><span class="pl-s1">data</span><span class="pl-kos">)</span> <span class="pl-c1">=&gt;</span> <span class="pl-kos">{</span>
        <span class="pl-c">/* </span>
  <span class="pl-c">                우편 번호 처리하는 로직</span>
  <span class="pl-c">            */</span>
      <span class="pl-kos">}</span><span class="pl-kos">,</span>
    <span class="pl-kos">}</span><span class="pl-kos">;</span>
    <span class="pl-k">const</span> <span class="pl-s1">postCode</span> <span class="pl-c1">=</span> <span class="pl-v">ReactDaumPost</span><span class="pl-kos">(</span><span class="pl-s1">postConfig</span><span class="pl-kos">)</span><span class="pl-kos">;</span>
  
    <span class="pl-k">return</span> <span class="pl-kos">(</span>
      <span class="pl-c1">&lt;</span><span class="pl-ent">main</span><span class="pl-c1">&gt;</span>
        우편번호찾기
        <span class="pl-c1">&lt;</span><span class="pl-ent">input</span> <span class="pl-c1">type</span><span class="pl-c1">=</span><span class="pl-s">'text'</span> <span class="pl-c1">onClick</span><span class="pl-c1">=</span><span class="pl-kos">{</span><span class="pl-s1">postCode</span><span class="pl-kos">}</span> <span class="pl-c1">/</span><span class="pl-c1">&gt;</span>
      <span class="pl-c1">&lt;</span><span class="pl-c1">/</span><span class="pl-ent">main</span><span class="pl-c1">&gt;</span>
    <span class="pl-kos">)</span><span class="pl-kos">;</span>
  <span class="pl-kos">}</span><span class="pl-kos">;</span></pre></div>
  <h3><a id="user-content-기존-dom에-삽입--react-hook-form을-같이-쓸-경우" class="anchor" aria-hidden="true" href="#기존-dom에-삽입--react-hook-form을-같이-쓸-경우"><span aria-hidden="true" class="octicon octicon-link"></span></a>기존 DOM에 삽입 + react-hook-form을 같이 쓸 경우</h3>
  <div class="highlight highlight-source-js"><pre><span class="pl-k">import</span> <span class="pl-v">React</span><span class="pl-kos">,</span> <span class="pl-kos">{</span> <span class="pl-s1">useRef</span> <span class="pl-kos">}</span> <span class="pl-k">from</span> <span class="pl-s">'react'</span><span class="pl-kos">;</span>
  <span class="pl-k">import</span> <span class="pl-v">ReactDaumPost</span> <span class="pl-k">from</span> <span class="pl-s">'react-daumpost-hook'</span><span class="pl-kos">;</span>
  <span class="pl-k">import</span> <span class="pl-kos">{</span> <span class="pl-s1">useForm</span> <span class="pl-kos">}</span> <span class="pl-k">from</span> <span class="pl-s">'react-hook-form'</span><span class="pl-kos">;</span>
  
  <span class="pl-k">const</span> <span class="pl-v">App</span> <span class="pl-c1">=</span> <span class="pl-k">function</span> <span class="pl-kos">(</span><span class="pl-kos">)</span> <span class="pl-kos">{</span>
    <span class="pl-k">const</span> <span class="pl-kos">{</span> setValue<span class="pl-kos">,</span> handleSubmit <span class="pl-kos">}</span> <span class="pl-c1">=</span> <span class="pl-en">useForm</span><span class="pl-kos">(</span><span class="pl-kos">)</span><span class="pl-kos">;</span>
    <span class="pl-k">const</span> <span class="pl-s1">ref</span> <span class="pl-c1">=</span> <span class="pl-en">useRef</span><span class="pl-kos">(</span><span class="pl-c1">null</span><span class="pl-kos">)</span><span class="pl-kos">;</span>
  
    <span class="pl-k">const</span> <span class="pl-s1">postConfig</span> <span class="pl-c1">=</span> <span class="pl-kos">{</span>
      <span class="pl-c1">ref</span>: <span class="pl-s1">ref</span><span class="pl-kos">,</span> <span class="pl-c">//팝업창으로 사용시 해당 파라메터를 없애면 된다.</span>
      <span class="pl-en">onComplete</span>: <span class="pl-kos">(</span><span class="pl-s1">data</span><span class="pl-kos">)</span> <span class="pl-c1">=&gt;</span> <span class="pl-kos">{</span>
        <span class="pl-c">// 데이터를 받아와서 set해주는 부분</span>
        <span class="pl-en">setValue</span><span class="pl-kos">(</span><span class="pl-s">'address'</span><span class="pl-kos">,</span> <span class="pl-s1">data</span><span class="pl-kos">.</span><span class="pl-c1">address</span><span class="pl-kos">)</span><span class="pl-kos">;</span>
        <span class="pl-en">handleSubmit</span><span class="pl-kos">(</span><span class="pl-kos">(</span><span class="pl-s1">data</span><span class="pl-kos">)</span> <span class="pl-c1">=&gt;</span> <span class="pl-smi">console</span><span class="pl-kos">.</span><span class="pl-en">log</span><span class="pl-kos">(</span><span class="pl-s1">data</span><span class="pl-kos">)</span><span class="pl-kos">)</span><span class="pl-kos">(</span><span class="pl-kos">)</span><span class="pl-kos">;</span>
        <span class="pl-c">// 검색후 해당 컴포넌트를 다시 안보이게 하는 부분</span>
        <span class="pl-s1">ref</span><span class="pl-kos">.</span><span class="pl-c1">current</span><span class="pl-kos">.</span><span class="pl-c1">style</span><span class="pl-kos">.</span><span class="pl-c1">display</span> <span class="pl-c1">=</span> <span class="pl-s">'none'</span><span class="pl-kos">;</span>
      <span class="pl-kos">}</span><span class="pl-kos">,</span>
    <span class="pl-kos">}</span><span class="pl-kos">;</span>
    <span class="pl-k">const</span> <span class="pl-s1">postCode</span> <span class="pl-c1">=</span> <span class="pl-v">ReactDaumPost</span><span class="pl-kos">(</span><span class="pl-s1">postConfig</span><span class="pl-kos">)</span><span class="pl-kos">;</span>
  
    <span class="pl-k">return</span> <span class="pl-kos">(</span>
      <span class="pl-c1">&lt;</span><span class="pl-ent">main</span><span class="pl-c1">&gt;</span>
        우편번호찾기
        <span class="pl-c1">&lt;</span><span class="pl-ent">input</span> <span class="pl-c1">type</span><span class="pl-c1">=</span><span class="pl-s">'text'</span> <span class="pl-c1">onClick</span><span class="pl-c1">=</span><span class="pl-kos">{</span><span class="pl-s1">postCode</span><span class="pl-kos">}</span> <span class="pl-c1">/</span><span class="pl-c1">&gt;</span>
        <span class="pl-c1">&lt;</span><span class="pl-ent">div</span> <span class="pl-c1">ref</span><span class="pl-c1">=</span><span class="pl-kos">{</span><span class="pl-s1">ref</span><span class="pl-kos">}</span><span class="pl-c1">&gt;</span>/* 이곳에 검색창이 삽입 됩니다.*/<span class="pl-c1">&lt;</span><span class="pl-c1">/</span><span class="pl-ent">div</span><span class="pl-c1">&gt;</span>
      <span class="pl-c1">&lt;</span><span class="pl-c1">/</span><span class="pl-ent">main</span><span class="pl-c1">&gt;</span>
    <span class="pl-kos">)</span><span class="pl-kos">;</span>
  <span class="pl-kos">}</span><span class="pl-kos">;</span></pre></div>
  <h2><a id="user-content-설명" class="anchor" aria-hidden="true" href="#설명"><span aria-hidden="true" class="octicon octicon-link"></span></a>설명</h2>
  <div class="highlight highlight-source-js"><pre><span class="pl-k">import</span> <span class="pl-v">ReactDaumPost</span> <span class="pl-k">from</span> <span class="pl-s">'react-daumpost-hook'</span><span class="pl-kos">;</span></pre></div>
  <p>에서 불러온 ReactDaumPost 함수를 호출하면 다음 우편 주소 API 스크립트를 html에 삽입하며 해당 주소 API를 불러올 수 있는 함수를 반환합니다. 반환 된 함수를 원하시는 컴포넌트의 이벤트에 바인딩하시면 해당 이벤트로 다음 우편주소 API를 호출 할 수 있습니다.<br>
  또 API 설정의 경우 ReactDaumPost 함수를 호출할때 props 객체를 인자로 넘겨서 API를 설정합니다.</p>
  <ul>
  <li>해당 패키지의 경우 바닐라js로 구성 되어서 간단하게 API 로직을 캡슐화 하고 있습니다.<br>
  팝업 방식으로 쓰신다면 js 기반 프로젝트라면 어디서든 상관 없습니다.<br>
  다만 타입스크립트의 사용시 리액트 기반으로 타입추론을 하고 있습니다.</li>
  </ul>
  <h3><a id="user-content-props" class="anchor" aria-hidden="true" href="#props"><span aria-hidden="true" class="octicon octicon-link"></span></a>Props</h3>
  <blockquote>
  <p>config자체를 넘기지 않을 경우 console에 검색결과를 출력 합니다.</p>
  </blockquote>
  <ol>
  <li>
  <p><strong><code>ref (?ref)</code></strong> : 다음 우편번호 찾기 검색창을 삽입시킬 컴포넌트입니다. useRef를 통해서 셀렉한 ref를 넘깁니다., <strong>해당 속성을 비워두시면 자동으로 우편코드 검색 창을 팝업 방식</strong>으로 띄웁니다.</p>
  </li>
  <li>
  <p><strong><code>apiUrl (?string)</code></strong> : 다음 API 스크립트 경로입니다. 선택사항이며 제공되는 API 경로가 변경된 경우 해당 값으로 변경해주시면 됩니다.<br>
  <strong><code>기본값은 "t1.daumcdn.net/mapjsapi/bundle/postcode/prod/postcode.v2.js"</code></strong> 입니다.</p>
  </li>
  <li>
  <p><strong><code>method (?object)</code></strong> : 다음 API에서 제공되는 <strong>생성자들을 사용하실 경우 제공되는 인터페이스</strong>입니다. 아래와 같이 객체를 생성하여서 method 인수로 넘겨주시면됩니다.</p>
  </li>
  </ol>
  <div class="highlight highlight-source-js"><pre><span class="pl-kos">{</span>
      <span class="pl-en">onresize</span>: <span class="pl-k">function</span><span class="pl-kos">(</span><span class="pl-s1">size</span><span class="pl-kos">)</span> <span class="pl-kos">{</span>
          <span class="pl-c">//size는 우편번호 찾기 화면의 크기 데이터 객체이며, 상세 설명은 아래 목록에서 확인하실 수 있습니다.</span>
      <span class="pl-kos">}</span><span class="pl-kos">,</span>
      <span class="pl-en">onsearch</span> : <span class="pl-kos">(</span><span class="pl-s1">state</span><span class="pl-kos">)</span> <span class="pl-c1">=&gt;</span><span class="pl-kos">{</span> ... <span class="pl-kos">}</span><span class="pl-kos">,</span>
      ...
  <span class="pl-kos">}</span></pre></div>
  <p>자세한 내용은 <a href="http://postcode.map.daum.net/guide#usage" rel="nofollow">Daum Postcode API 가이드</a>에서 참고해주시길 바랍니다.</p>
  <ol start="4">
  <li>
  <strong><code>config (?object)</code></strong> : 다음 API에서 제공되는 <strong>config들을 사용하실 경우 제공되는 인터페이스</strong>입니다. 자세한 내용은 <a href="http://postcode.map.daum.net/guide#usage" rel="nofollow">Daum Postcode API 가이드</a>에서 참고해주시길 바랍니다.</li>
  <li>
  <strong><code>onComplete (function)</code></strong> : API 검색 결과를 처리할 함수를 넘겨주시길바랍니다.<br>
  <code>config 자체를 안넘길 경우 기본 값은 (data) =&gt; console.log(data)입니다.</code>
  </li>
  </ol>
  <p><strong><em>ref, apiUrl, method, onComplete, config 5가지 인자</em></strong> 중 <strong><em>반드시 필요한 속성은 검색결과를 처리할 onComplete 하나</em></strong> 입니다. <strong>ref</strong> 를 통해서 원하는 위치에 검색창을 삽입하시거나 팝업방식으로 간단히 API를 이용가능하니 참고하셔서 사용해주시고 문의가 있을시 해당 Git Repo에 이슈로 등록해주시길 바랍니다.</p>
  <h3><a id="user-content-license" class="anchor" aria-hidden="true" href="#license"><span aria-hidden="true" class="octicon octicon-link"></span></a>LICENSE</h3>
  <p>react-daumpost-hook is <a href="https://github.com/yoonjonglyu/react-daumpost-hook/blob/HEAD/LICENSE">MIT licensed</a>.</p>
  </div>